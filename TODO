DONE

	OK what other packets need to be upgraded?

	Can distinguish my packets from backend from game protocol packets, since they will all come from the backend IP address.

	No change required there.

	Add server init response.

	Add session update response.

	What other packets need to be exchanged between client and server post upgrade, while going direct?

	Do these next...

		#define NEXT_DIRECT_PING_PACKET                             68
		#define NEXT_DIRECT_PONG_PACKET                             69
		#define NEXT_CLIENT_STATS_PACKET                            70
		#define NEXT_ROUTE_UPDATE_PACKET                            71
		#define NEXT_ROUTE_UPDATE_ACK_PACKET                        72

	Get server processing direct ping packet again.

	Get client processing direct pong packet again.

	Get client stats packet working.

	Get route update packet working (server -> client)

	Get route update ack packet working (client -> server)

	What other packet types remain?

	All the packet types that go across relays.

		#define NEXT_ROUTE_REQUEST_PACKET                            1
		#define NEXT_ROUTE_RESPONSE_PACKET                           2
		#define NEXT_CLIENT_TO_SERVER_PACKET                         3
		#define NEXT_SERVER_TO_CLIENT_PACKET                         4
		#define NEXT_PING_PACKET                                    11
		#define NEXT_PONG_PACKET                                    12
		#define NEXT_CONTINUE_REQUEST_PACKET                        13
		#define NEXT_CONTINUE_RESPONSE_PACKET                       14

	Out of these packets, the "route request" and "continue request" are *sent* by the client, so we don't need to change them.

	The rest of the packets are sent and received by client or server. They all have a signature, and if the signature doesn't verify we can just hand the packet to the game for processing.

	This should be easy, and we don't need to break compatibility with relays.

	Now bring across:

		NEXT_ROUTE_RESPONSE_PACKET

	Implement the code to pass to game if the signature fails or anything in read fails.

TODO
	
	Getting this now:

	"error: server timed out waiting for backend response for session a158884114aa9356"

	Did something break, are we handling the backend session response correctly?

	--------------------------------

	Server needs to handle "route request" packet. Check the very specific size (one token). Check that it decrypts, otherwise pass to game.

	--------------------------------

	Once this is done, running under a func test backend should result in the client getting the route response packet.

	--------------------------------

	Once this passes, bring across the other packet types.

	--------------------------------

	Verify that everything works with func backend, eg. packets across network next route.

	--------------------------------

	Network Next should pass functional tests again.

	--------------------------------












 



	--------------------------------

	Need to move all packets that go across relays that have changed, into new byte values.

	This makes it possible for a relay to support both old and new protocol across relays (!!!)

	--------------------------------

	Add memory guard buffers to help catch memory trashes (suspected from Velan).

	--------------------------------

	Find a way to automatically determine what datacenter we are running in.

	eg. either public IP address range for bare metal, or server-side code that detects when you are in a cloud.

	Environment variable setting should always remain available as a fallback.

	--------------------------------

	Get the win64 testbed up and running debug and release.

	Get the win64 soak test running inside the win64 testbed.

	Run soak test for 1 hr on windows.

	--------------------------------

	Get the soak test running on ps4.

	Run soak test for 1 hr on ps4.

	--------------------------------

	Get the soak test running on x1.

	Run soak test for 1 hr on x1.

	--------------------------------

	From Velan:

	"Xbox One seems to have asymmetric alloc/free, it attempted to free something using the global context that wasn't allocated with the global context."

	Find this and fix it.

	--------------------------------


































	--------------------------------

	Would be good to track the client and server packets sent, so we can do packet loss as a % calculation, when games send different rates of packets.

	--------------------------------

	Re-add the client and server tests with ports, once I enable the ports on X1 in my own manifest...

	--------------------------------

	Find a way to get the X1 testing going within a UE4 plugin context.

	There is weird stuff with the ipv4 as ipv6 that needs to be tested.

	Also need to test the port binding running in the context of UE4.

	--------------------------------

	"Hey Glenn, the distro we'll be using is CentOS. Would it be possible for you to provide us with the plugin for both versions 7 and 8?"

	PUBG need Linux plugin versions for CentOS 7 and 8.

	--------------------------------

	Fix the link problem with the nintendo testbed.

	Get Nintendo switch devkit from Troy Innovation Garage.

	Set it up the test kit and verify that tests pass and the switch client connects to the linux server.

	Get assets from Nathan for Nintendo Switch.

	--------------------------------

	Build the iOS testbed and verify working on my iPad Pro or with emulator.

	--------------------------------



















	-----------------

	Psychz 1 month trial. Coordinate with PUBG launch. Make sure we have the eval tools to determine which relays are performant before starting the trial.

	-----------------

	Open source relay code so we can work with Stackpath.

	-----------------

	Update job listings on website.

	Make sure job listings actually go somewhere...
